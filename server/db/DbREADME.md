Database Proposal

The database structure for this app looks to capture some of the flexibility of a document database while maintain relationships between entities. It will use a SQL database with elements inspired by document db, meaning that entities will be defined and related in tradition SQL methodology, some entities will have a columns that will store chunks of JSON and use more of a NoSQL model.

The three entities at the core of the app are User, Card (A collection of information grouped together as an item) and Collection (A specific grouping of cards owned and managed by a User). There are obvious and necessary relationships between the three entities however the content of the cards and the structure of collections should not be fixed into specific fields and columns. Content for cards and collections will be stored as JSON and will sync expectations for data and field values between the two entities.

The secondary entities of this app are Templates, which provide a content base for collections and cards at creation.  The three templates are Style Template (Informs the styling of a collection), CollectionContentTemplate (informs a collection of the available card types it can hold and the expected properties for card content ). On the card and collection level, each of these will be stored as JSON, allowing for flexible expansion and modification. The initial values will come from template entities which will store data about the template in columns and then the base JSON values to be used on Card or Collection creation.

Example:
One CollectionContentTemplate will be DnD, which would hold the template for Character. So when a DnD Collection is created, the JSON for the Collection is pull from CollectionContentTemplate and stored in to Collection’s ‘CollectionTemplate’ column. When the user creates a card, the available card types are pulled from this column and the user selects one. In this case, the user selects ‘Character’ and the character template is pulled and populates the forms for card creation. When the user submits and the ‘Character’ card is created, the data related to character is stored as JSON in the Card’s ‘Content’ column.
